{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/vilmerfrost/frost-demo/app/utils/supabase/server.ts"],"sourcesContent":["// app/utils/supabase/server.ts\nimport { cookies } from 'next/headers'\nimport { createServerClient, type CookieOptions } from '@supabase/ssr'\n\nexport function createClient() {\n  const cookieStorePromise = cookies() // <- Promise i Next 16\n\n  return createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        async get(name: string) {\n          const store = await cookieStorePromise\n          return store.get(name)?.value\n        },\n        async set(name: string, value: string, options: CookieOptions) {\n          const store = await cookieStorePromise\n          store.set({ name, value, ...options })\n        },\n        async remove(name: string, options: CookieOptions) {\n          const store = await cookieStorePromise\n          store.set({ name, value: '', ...options })\n        },\n      },\n    }\n  )\n}\n"],"names":[],"mappings":"AAAA,+BAA+B;;;;;AAC/B;AACA;AAAA;;;AAEO,SAAS;IACd,MAAM,qBAAqB,IAAA,0IAAO,IAAG,uBAAuB;;IAE5D,OAAO,IAAA,+LAAkB,sUAGvB;QACE,SAAS;YACP,MAAM,KAAI,IAAY;gBACpB,MAAM,QAAQ,MAAM;gBACpB,OAAO,MAAM,GAAG,CAAC,OAAO;YAC1B;YACA,MAAM,KAAI,IAAY,EAAE,KAAa,EAAE,OAAsB;gBAC3D,MAAM,QAAQ,MAAM;gBACpB,MAAM,GAAG,CAAC;oBAAE;oBAAM;oBAAO,GAAG,OAAO;gBAAC;YACtC;YACA,MAAM,QAAO,IAAY,EAAE,OAAsB;gBAC/C,MAAM,QAAQ,MAAM;gBACpB,MAAM,GAAG,CAAC;oBAAE;oBAAM,OAAO;oBAAI,GAAG,OAAO;gBAAC;YAC1C;QACF;IACF;AAEJ","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/vilmerfrost/frost-demo/app/auth/actions.ts"],"sourcesContent":["'use server'\n\nimport { redirect, } from 'next/navigation'\nimport { headers } from 'next/headers'\nimport { createClient } from '../utils/supabase/server'\n\nexport async function sendMagicLink(formData: FormData) {\n  const email = String(formData.get('email') || '').trim()\n  if (!email) return { ok: false, error: 'Ange e-post' }\n\n  const supabase = createClient()\n\n  const hdrs = headers()\n  const host = hdrs.get('x-forwarded-host') ?? hdrs.get('host') ?? 'localhost:3000'\n  const proto = (hdrs.get('x-forwarded-proto') ?? 'http')\n  const origin = `${proto}://${host}`\n\n  const { error } = await supabase.auth.signInWithOtp({\n    email,\n    options: {\n      emailRedirectTo: `${origin}/auth/callback?next=/`\n    }\n  })\n\n  if (error) return { ok: false, error: error.message }\n  return { ok: true }\n}\n\nexport async function signOut() {\n  const supabase = createClient()\n  await supabase.auth.signOut({ scope: 'global' })\n  redirect('/login')\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAAA;AACA;AACA;;;;;;AAEO,eAAe,cAAc,QAAkB;IACpD,MAAM,QAAQ,OAAO,SAAS,GAAG,CAAC,YAAY,IAAI,IAAI;IACtD,IAAI,CAAC,OAAO,OAAO;QAAE,IAAI;QAAO,OAAO;IAAc;IAErD,MAAM,WAAW,IAAA,kJAAY;IAE7B,MAAM,OAAO,IAAA,0IAAO;IACpB,MAAM,OAAO,KAAK,GAAG,CAAC,uBAAuB,KAAK,GAAG,CAAC,WAAW;IACjE,MAAM,QAAS,KAAK,GAAG,CAAC,wBAAwB;IAChD,MAAM,SAAS,GAAG,MAAM,GAAG,EAAE,MAAM;IAEnC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,aAAa,CAAC;QAClD;QACA,SAAS;YACP,iBAAiB,GAAG,OAAO,qBAAqB,CAAC;QACnD;IACF;IAEA,IAAI,OAAO,OAAO;QAAE,IAAI;QAAO,OAAO,MAAM,OAAO;IAAC;IACpD,OAAO;QAAE,IAAI;IAAK;AACpB;AAEO,eAAe;IACpB,MAAM,WAAW,IAAA,kJAAY;IAC7B,MAAM,SAAS,IAAI,CAAC,OAAO,CAAC;QAAE,OAAO;IAAS;IAC9C,IAAA,iMAAQ,EAAC;AACX;;;IA1BsB;IAsBA;;AAtBA,+OAAA;AAsBA,+OAAA","debugId":null}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///Users/vilmerfrost/frost-demo/app/layout.tsx"],"sourcesContent":["import type { Metadata } from 'next'\nimport './globals.css'\nimport { signOut } from './auth/actions'\n\nexport const metadata: Metadata = {\n  title: 'Frost Demo',\n  description: 'Minimal Next 14 + Supabase Auth',\n}\n\nexport default function RootLayout({ children }: { children: React.ReactNode }) {\n  return (\n    <html lang=\"sv\">\n      <body>\n        <header className=\"sticky top-0 z-20 border-b bg-white/70 backdrop-blur\">\n          <div className=\"container flex h-14 items-center justify-between\">\n            <a href=\"/\" className=\"font-semibold tracking-tight\">Frost Demo</a>\n            <form action={signOut}>\n              <button className=\"btn\" type=\"submit\">Logga ut</button>\n            </form>\n          </div>\n        </header>\n\n        <main className=\"container py-10\">{children}</main>\n\n        <footer className=\"border-t mt-16\">\n          <div className=\"container py-6 text-sm text-gray-500\">\n            Â© {new Date().getFullYear()} Frost Bygg\n          </div>\n        </footer>\n      </body>\n    </html>\n  )\n}\n\n"],"names":[],"mappings":";;;;;;;AAEA;;;;AAEO,MAAM,WAAqB;IAChC,OAAO;IACP,aAAa;AACf;AAEe,SAAS,WAAW,EAAE,QAAQ,EAAiC;IAC5E,qBACE,8OAAC;QAAK,MAAK;kBACT,cAAA,8OAAC;;8BACC,8OAAC;oBAAO,WAAU;8BAChB,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,MAAK;gCAAI,WAAU;0CAA+B;;;;;;0CACrD,8OAAC;gCAAK,QAAQ,iIAAO;0CACnB,cAAA,8OAAC;oCAAO,WAAU;oCAAM,MAAK;8CAAS;;;;;;;;;;;;;;;;;;;;;;8BAK5C,8OAAC;oBAAK,WAAU;8BAAmB;;;;;;8BAEnC,8OAAC;oBAAO,WAAU;8BAChB,cAAA,8OAAC;wBAAI,WAAU;;4BAAuC;4BACjD,IAAI,OAAO,WAAW;4BAAG;;;;;;;;;;;;;;;;;;;;;;;AAMxC","debugId":null}}]
}